/* Print-specific styles for professional PDF generation */

@media print {
  /* Reset and base styles */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    color: black !important;
    font-family: 'Arial', 'Helvetica', sans-serif !important;
    font-size: 12pt !important;
    line-height: 1.4 !important;
  }

  /* Hide non-essential elements */
  .no-print,
  .print-hidden,
  nav,
  .sidebar,
  .navigation,
  .action-buttons,
  .print-button,
  .back-button,
  .close-button,
  /* Hide only the sticky header with buttons, not content headers */
  .bg-card.sticky,
  .sticky.top-0 {
    display: none !important;
  }

  /* Page setup */
  @page {
    size: A4;
    margin: 0.3in;
  }

  /* Container for print content */
  .print-content {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    box-shadow: none !important;
    border: none !important;
  }

  /* Ensure all content is visible in print */
  .print-content * {
    visibility: visible !important;
  }

  /* Force visibility for all elements in print content */
  .print-content,
  .print-content *,
  .print-content *:before,
  .print-content *:after {
    visibility: visible !important;
  }

  /* Make sure certificate content is visible */
  .certificate-container,
  .certificate-container * {
    visibility: visible !important;
    display: block !important;
  }

  /* Ensure tables and content are visible */
  table, tr, td, th {
    visibility: visible !important;
    display: table !important;
  }

  tr {
    display: table-row !important;
  }

  td, th {
    display: table-cell !important;
  }

  /* Receipt specific styles */
  .receipt-container {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 20px !important;
    background: white !important;
    visibility: visible !important;
  }

  /* Ensure receipt content is visible */
  .receipt-container > * {
    visibility: visible !important;
    display: block !important;
  }

  .receipt-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
    margin-bottom: 20px !important;
    padding: 10px 0 15px 0 !important;
    border-bottom: 2px solid #000 !important;
    page-break-inside: avoid !important;
  }

  .receipt-logo-section {
    display: flex !important;
    align-items: center !important;
    gap: 16px !important;
  }

  .receipt-logo {
    height: 60px !important;
    width: auto !important;
    max-width: 120px !important;
  }

  .receipt-company-info h1 {
    font-size: 18pt !important;
    font-weight: bold !important;
    margin: 0 0 4px 0 !important;
    text-transform: uppercase !important;
    color: #000 !important;
  }

  .receipt-company-info p {
    margin: 0 !important;
    font-size: 10pt !important;
    color: #333 !important;
  }

  .receipt-info {
    text-align: right !important;
  }

  .receipt-info h2 {
    font-size: 14pt !important;
    font-weight: bold !important;
    color: #2563eb !important;
    margin: 0 0 8px 0 !important;
  }

  .receipt-info p {
    margin: 0 !important;
    font-size: 10pt !important;
    color: #000 !important;
  }

  /* Details grid */
  .receipt-details-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr 1fr !important;
    gap: 24px !important;
    margin-bottom: 20px !important;
  }

  .receipt-detail-section h3 {
    font-size: 9pt !important;
    font-weight: bold !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #666 !important;
    margin: 0 0 8px 0 !important;
  }

  .receipt-detail-section p {
    margin: 0 0 4px 0 !important;
    font-size: 10pt !important;
    color: #000 !important;
  }

  /* Tests section */
  .receipt-tests-section h3 {
    font-size: 11pt !important;
    font-weight: bold !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #666 !important;
    margin: 0 0 12px 0 !important;
  }

  .receipt-tests-table {
    width: 100% !important;
    border-collapse: collapse !important;
    border: 1px solid #000 !important;
    font-size: 9pt !important;
    margin-bottom: 20px !important;
  }

  .receipt-tests-table th {
    padding: 8px !important;
    text-align: left !important;
    font-weight: bold !important;
    border: 1px solid #000 !important;
    background-color: #f5f5f5 !important;
    color: #000 !important;
  }

  .receipt-tests-table td {
    padding: 8px !important;
    border: 1px solid #000 !important;
    vertical-align: top !important;
    color: #000 !important;
  }

  .receipt-category-row {
    background-color: #e5e5e5 !important;
    font-weight: bold !important;
    color: #666 !important;
  }

  /* Notes section */
  .receipt-notes-section h3 {
    font-size: 11pt !important;
    font-weight: bold !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #666 !important;
    margin: 0 0 8px 0 !important;
  }

  .receipt-notes-box {
    border: 1px solid #000 !important;
    border-radius: 4px !important;
    padding: 12px !important;
    background-color: #f9f9f9 !important;
    font-size: 9pt !important;
    color: #000 !important;
  }

  /* Footer */
  .receipt-footer {
    text-align: center !important;
    font-size: 9pt !important;
    color: #666 !important;
    margin-top: 20px !important;
    padding-top: 15px !important;
    border-top: 1px solid #000 !important;
  }

  .receipt-footer p {
    margin: 0 0 4px 0 !important;
  }

  .receipt-footer .company-name {
    font-weight: bold !important;
  }

  /* Certificate specific styles */
  .certificate-container {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 20px !important;
    background: white !important;
    visibility: visible !important;
  }

  /* Certificate preview container specific styles */
  .certificate-preview-container {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 15px !important;
    background: white !important;
    visibility: visible !important;
    font-family: Arial, sans-serif !important;
    font-size: 10px !important;
    line-height: 1.3 !important;
    color: #000 !important;
  }

  .certificate-preview-container * {
    visibility: visible !important;
    opacity: 1 !important;
  }

  .certificate-preview-container .certificate {
    width: 100% !important;
    max-width: 210mm !important;
    margin: 0 auto !important;
    padding: 15px !important;
    background: white !important;
  }

  /* Certificate preview specific element styles */
  .certificate-preview-container .header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
    margin-bottom: 20px !important;
    padding-bottom: 15px !important;
    border-bottom: 2px solid #000 !important;
  }

  .certificate-preview-container .company-info {
    display: flex !important;
    align-items: center !important;
    gap: 12px !important;
  }

  .certificate-preview-container .logo {
    width: 50px !important;
    height: 50px !important;
    object-fit: contain !important;
  }

  .certificate-preview-container .company-details h1 {
    font-size: 16px !important;
    font-weight: bold !important;
    margin-bottom: 3px !important;
  }

  .certificate-preview-container .company-details p {
    font-size: 8px !important;
    color: #333 !important;
    margin: 1px 0 !important;
  }

  .certificate-preview-container .certificate-title {
    text-align: right !important;
  }

  .certificate-preview-container .certificate-title h2 {
    font-size: 14px !important;
    font-weight: bold !important;
    margin-bottom: 8px !important;
  }

  .certificate-preview-container .certificate-details {
    font-size: 8px !important;
  }

  .certificate-preview-container .certificate-details p {
    margin: 2px 0 !important;
  }

  /* Client info grid layout */
  .certificate-preview-container .client-info-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 20px !important;
    margin-bottom: 15px !important;
  }

  .certificate-preview-container .client-info-left,
  .certificate-preview-container .client-info-right {
    font-size: 9px !important;
  }

  .certificate-preview-container .info-item {
    margin-bottom: 6px !important;
    display: flex !important;
    padding: 2px 0 !important;
    border-bottom: 1px solid #f0f0f0 !important;
  }

  .certificate-preview-container .info-label {
    font-weight: bold !important;
    min-width: 100px !important;
    margin-right: 8px !important;
  }

  .certificate-preview-container .info-value {
    flex: 1 !important;
  }

  .certificate-preview-container .results-header {
    font-size: 9px !important;
    font-weight: bold !important;
    margin: 15px 0 10px 0 !important;
  }

  .certificate-preview-container .results-line {
    border-bottom: 1px solid #000 !important;
    margin-bottom: 15px !important;
  }

  /* Test results section */
  .certificate-preview-container .test-results-section {
    margin: 20px 0 !important;
  }

  .certificate-preview-container .test-results-title {
    font-size: 11px !important;
    font-weight: bold !important;
    text-align: center !important;
    margin-bottom: 15px !important;
  }

  .certificate-preview-container .test-results-grid {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 20px !important;
    margin-bottom: 15px !important;
    font-size: 9px !important;
  }

  .certificate-preview-container .test-results-column {
    display: flex !important;
    flex-direction: column !important;
  }

  .certificate-preview-container .test-result-item {
    display: grid !important;
    grid-template-columns: 120px 1fr !important;
    border-bottom: 1px solid #f0f0f0 !important;
    padding: 4px 0 !important;
  }

  .certificate-preview-container .test-result-item:last-child {
    border-bottom: none !important;
  }

  .certificate-preview-container .test-result-label {
    font-weight: bold !important;
    padding-right: 8px !important;
  }

  .certificate-preview-container .test-result-value {
    padding-left: 8px !important;
    border-left: 1px solid #f0f0f0 !important;
  }

  /* Data table */
  .certificate-preview-container .data-table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin: 15px 0 !important;
    font-size: 8px !important;
  }

  .certificate-preview-container .data-table th,
  .certificate-preview-container .data-table td {
    border: 1px solid #e0e0e0 !important;
    padding: 3px !important;
    text-align: center !important;
    vertical-align: middle !important;
  }

  .certificate-preview-container .data-table th {
    background-color: #f8f8f8 !important;
    font-weight: bold !important;
  }

  .certificate-preview-container .data-table .text-left {
    text-align: left !important;
  }

  .certificate-preview-container .average-row {
    font-weight: bold !important;
  }

  .certificate-preview-container .average-label {
    text-align: left !important;
  }

  .certificate-preview-container .average-value {
    text-align: right !important;
  }

  /* Remarks section */
  .certificate-preview-container .remarks-section {
    margin: 20px 0 !important;
  }

  .certificate-preview-container .remarks-title {
    font-size: 9px !important;
    font-weight: bold !important;
    margin-bottom: 8px !important;
  }

  .certificate-preview-container .remarks-content {
    font-size: 8px !important;
    line-height: 1.4 !important;
  }

  .certificate-preview-container .remarks-content ul {
    margin-left: 15px !important;
  }

  .certificate-preview-container .remarks-content li {
    margin-bottom: 3px !important;
  }

  .certificate-preview-container .end-of-report {
    text-align: center !important;
    margin: 15px 0 !important;
    font-size: 8px !important;
  }

  .certificate-preview-container .end-line {
    border-bottom: 1px solid #000 !important;
    margin-bottom: 5px !important;
  }

  /* Signatures */
  .certificate-preview-container .signatures {
    margin-top: 25px !important;
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 40px !important;
  }

  .certificate-preview-container .signature-box {
    text-align: left !important;
  }

  .certificate-preview-container .signature-label {
    font-size: 8px !important;
    font-weight: bold !important;
    margin-bottom: 5px !important;
  }

  .certificate-preview-container .signature-line {
    height: 30px !important;
    border-bottom: 1px solid #000 !important;
    margin: 5px 0 !important;
  }

  .certificate-preview-container .signature-name {
    font-size: 8px !important;
    font-weight: bold !important;
  }

  .certificate-preview-container .signature-title {
    font-size: 7px !important;
    color: #666 !important;
  }

  /* Footer */
  .certificate-preview-container .footer {
    margin-top: 20px !important;
    padding-top: 10px !important;
    border-top: 1px solid #000 !important;
    font-size: 8px !important;
    text-align: center !important;
  }

  /* Ensure certificate content is visible */
  .certificate-container > * {
    visibility: visible !important;
    display: block !important;
  }

  /* Handle nested certificate containers */
  .certificate-container .certificate-container {
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Ensure all certificate template content is visible */
  #certificate-content-printable,
  #certificate-content-printable * {
    visibility: visible !important;
  }

  /* Ensure main content is visible */
  main {
    visibility: visible !important;
    display: block !important;
  }

  /* Certificate template specific styles */
  .certificate-template,
  .certificate-template * {
    visibility: visible !important;
  }

  /* Ensure certificate template content is properly displayed */
  .certificate-template header,
  .certificate-template main,
  .certificate-template section,
  .certificate-template div {
    display: block !important;
    visibility: visible !important;
  }

  /* Ensure certificate template tables are visible */
  .certificate-template table {
    display: table !important;
    visibility: visible !important;
    width: 100% !important;
    border-collapse: collapse !important;
  }

  .certificate-template table * {
    visibility: visible !important;
  }

  .certificate-template tr {
    display: table-row !important;
    visibility: visible !important;
  }

  .certificate-template td,
  .certificate-template th {
    display: table-cell !important;
    visibility: visible !important;
    border: 1px solid #000 !important;
    padding: 8px !important;
  }

  /* Ensure certificate template text is visible */
  .certificate-template p,
  .certificate-template h1,
  .certificate-template h2,
  .certificate-template h3,
  .certificate-template span,
  .certificate-template strong {
    visibility: visible !important;
    display: inline !important;
  }

  /* Force visibility for all certificate template elements */
  .certificate-template * {
    visibility: visible !important;
  }

  /* Debug: Make sure certificate template is visible */
  .certificate-template {
    background: white !important;
    color: black !important;
    visibility: visible !important;
    display: block !important;
    opacity: 1 !important;
  }

  /* Ensure certificate template layout is preserved */
  .certificate-template .flex {
    display: flex !important;
    visibility: visible !important;
  }

  .certificate-template .grid {
    display: grid !important;
    visibility: visible !important;
  }

  .certificate-template .space-y-1 > * + * {
    margin-top: 0.25rem !important;
  }

  /* Override any hiding styles for certificate content */
  .certificate-template [class*="hidden"],
  .certificate-template [class*="invisible"],
  .certificate-template [style*="display: none"],
  .certificate-template [style*="visibility: hidden"] {
    display: block !important;
    visibility: visible !important;
  }

  /* Force all text to be visible */
  .certificate-template p,
  .certificate-template div,
  .certificate-template span,
  .certificate-template h1,
  .certificate-template h2,
  .certificate-template h3,
  .certificate-template h4,
  .certificate-template h5,
  .certificate-template h6 {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: black !important;
  }

  /* Force inline elements to be visible */
  .certificate-template strong,
  .certificate-template b,
  .certificate-template em,
  .certificate-template i {
    display: inline !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: black !important;
  }

  /* Handle Tailwind classes in print */
  .certificate-template [class*="text-["] {
    font-size: 10px !important;
    visibility: visible !important;
    display: block !important;
  }

  .certificate-template [class*="grid-cols-["] {
    display: grid !important;
    visibility: visible !important;
  }

  .certificate-template [class*="space-y-"] > * + * {
    margin-top: 0.25rem !important;
  }

  /* Ensure certificate template sections are visible */
  .certificate-template section {
    visibility: visible !important;
    margin-bottom: 1rem !important;
  }

  /* Preserve div layout - don't force block display */
  .certificate-template div {
    visibility: visible !important;
  }

  /* Ensure print content is visible */
  .print-content {
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Override any potential hiding for specific elements */
  .print-content [style*="display: none"],
  .print-content [style*="visibility: hidden"],
  .print-content [style*="opacity: 0"] {
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Ensure certificate template is visible but preserve layout */
  .certificate-template {
    visibility: visible !important;
    opacity: 1 !important;
    color: black !important;
    background: transparent !important;
  }

  /* Force tables to be visible and maintain proper table structure */
  .certificate-template table {
    visibility: visible !important;
    display: table !important;
    opacity: 1 !important;
    width: 100% !important;
    border-collapse: collapse !important;
    table-layout: auto !important;
  }

  .certificate-template thead {
    display: table-header-group !important;
  }

  .certificate-template tbody {
    display: table-row-group !important;
  }

  .certificate-template tr {
    display: table-row !important;
  }

  .certificate-template td,
  .certificate-template th {
    display: table-cell !important;
    padding: 4px 8px !important;
    border: 1px solid #000 !important;
    vertical-align: top !important;
    text-align: left !important;
    white-space: nowrap !important;
  }

  .certificate-template th {
    font-weight: bold !important;
    background-color: #f5f5f5 !important;
  }

  /* Fix wide tables with many columns */
  .certificate-template table.wide-table {
    font-size: 8px !important;
    table-layout: fixed !important;
    width: 100% !important;
  }

  .certificate-template table.wide-table th,
  .certificate-template table.wide-table td {
    padding: 2px 4px !important;
    font-size: 8px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  /* Fix two-column layouts in certificates */
  .certificate-template .grid-cols-2 {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 1rem !important;
    visibility: visible !important;
  }

  .certificate-template .grid-cols-3 {
    display: grid !important;
    grid-template-columns: 1fr 1fr 1fr !important;
    gap: 1rem !important;
    visibility: visible !important;
  }

  /* Fix flex layouts */
  .certificate-template .flex {
    display: flex !important;
    visibility: visible !important;
  }

  .certificate-template .justify-between {
    justify-content: space-between !important;
  }

  .certificate-template .items-start {
    align-items: flex-start !important;
  }

  .certificate-template .items-center {
    align-items: center !important;
  }

  /* Fix text alignment */
  .certificate-template .text-left {
    text-align: left !important;
  }

  .certificate-template .text-right {
    text-align: right !important;
  }

  .certificate-template .text-center {
    text-align: center !important;
  }

  /* Handle Tailwind arbitrary grid values in print */
  .certificate-template [class*="grid-cols-["] {
    display: grid !important;
    visibility: visible !important;
  }

  .certificate-template .grid-cols-\[120px\,1fr\] {
    grid-template-columns: 120px 1fr !important;
  }

  .certificate-template .grid-cols-\[auto\,1fr\] {
    grid-template-columns: auto 1fr !important;
  }


  .certificate-header {
    text-align: center !important;
    margin-bottom: 30px !important;
    border-bottom: 2px solid #000 !important;
    padding-bottom: 20px !important;
  }

  .certificate-logo {
    max-height: 60px !important;
    margin-bottom: 10px !important;
  }

  .certificate-header h1 {
    font-size: 20pt !important;
    font-weight: bold !important;
    margin: 0 0 8px 0 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #000 !important;
  }

  .certificate-header p {
    font-size: 12pt !important;
    margin: 0 0 4px 0 !important;
    color: #666 !important;
  }

  .certificate-title {
    text-align: center !important;
    margin-bottom: 30px !important;
  }

  .certificate-title h2 {
    font-size: 18pt !important;
    font-weight: bold !important;
    margin: 0 0 8px 0 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #000 !important;
  }

  .certificate-title p {
    font-size: 12pt !important;
    margin: 0 !important;
    color: #666 !important;
  }

  .certificate-details-table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin-bottom: 20px !important;
  }

  .certificate-details-table td {
    padding: 8px !important;
    border: 1px solid #000 !important;
    color: #000 !important;
  }

  .certificate-details-table td:first-child {
    font-weight: bold !important;
    width: 30% !important;
    background-color: #f5f5f5 !important;
  }

  .certificate-test-results h3 {
    font-size: 12pt !important;
    font-weight: bold !important;
    margin: 0 0 12px 0 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #000 !important;
  }

  .certificate-test-results-table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin-bottom: 20px !important;
  }

  .certificate-test-results-table th,
  .certificate-test-results-table td {
    padding: 8px !important;
    border: 1px solid #000 !important;
    text-align: left !important;
    color: #000 !important;
  }

  .certificate-test-results-table th {
    font-weight: bold !important;
    background-color: #f5f5f5 !important;
  }

  .certificate-remarks-section h3 {
    font-size: 12pt !important;
    font-weight: bold !important;
    margin: 0 0 12px 0 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #000 !important;
  }

  .certificate-remarks-box {
    border: 1px solid #000 !important;
    border-radius: 4px !important;
    padding: 12px !important;
    background-color: #f9f9f9 !important;
    color: #000 !important;
  }

  .certificate-signatures {
    margin-top: 40px !important;
  }

  .certificate-signature-row {
    display: flex !important;
    justify-content: space-between !important;
    margin-bottom: 20px !important;
  }

  .certificate-signature-box {
    text-align: center !important;
    width: 45% !important;
  }

  .certificate-signature-line {
    border-bottom: 1px solid #000 !important;
    height: 40px !important;
    margin-bottom: 8px !important;
  }

  .certificate-signature-box p {
    font-size: 9pt !important;
    margin: 0 !important;
    color: #000 !important;
  }

  .certificate-signature-box .label {
    font-weight: bold !important;
  }

  .certificate-signature-box .name {
    font-size: 8pt !important;
    color: #666 !important;
  }

  .certificate-footer {
    text-align: center !important;
    font-size: 9pt !important;
    color: #666 !important;
    margin-top: 30px !important;
    padding-top: 15px !important;
    border-top: 1px solid #000 !important;
  }

  .certificate-footer p {
    margin: 0 0 4px 0 !important;
  }

  .certificate-footer .company-name {
    font-weight: bold !important;
  }

  /* General print utilities */
  .print-only {
    display: block !important;
  }

  .no-print {
    display: none !important;
  }

  /* Force page breaks */
  .page-break-before {
    page-break-before: always !important;
  }

  .page-break-after {
    page-break-after: always !important;
  }

  .page-break-inside-avoid {
    page-break-inside: avoid !important;
  }

  /* Ensure proper spacing */
  .print-spacing {
    margin: 10px 0 !important;
  }

  /* Text styling */
  .print-bold {
    font-weight: bold !important;
  }

  .print-uppercase {
    text-transform: uppercase !important;
  }

  .print-center {
    text-align: center !important;
  }

  .print-right {
    text-align: right !important;
  }
}
